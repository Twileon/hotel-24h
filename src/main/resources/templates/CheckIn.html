<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>入住</title>
</head>
<body>
    <div>
        <h2>入住和退房</h2>
        <div align="left">
            <div class="form-group">
                <label for="id" class="col-sm-2 control-label">订单号:</label>
                <input type="text" class="form-control" id="id" name="reserveId" readonly
                    th:value="${reserve.reserveId}">
            </div>
            <div class="form-group">
                <label for="reserverName" class="col-sm-2 control-label"> 姓名:</label>
                <input type="text" class="form-control" id="reserverName" name="reserverName" required
                    th:value="${reserve.reserverName}">
            </div>
            <div class="form-group">
                <label for="reserverPhone" class="col-sm-2 control-label">手机号:</label>
                <input type="text" class="form-control" id="reserverPhone" name="reserverPhone" required
                    th:value="${reserve.reserverPhone}">
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-danger" th:onclick="|submit()|">入住</button>
            <button type="del" class="btn btn-danger" th:onclick="|del()|">撤除</button>
        </div>
    </div>
    <script type="text/javascript">
        function submit(){
            let result = confirm("确定需要执行修改吗？");
            if (result) {
                var id=$("#id").val().trim();
                var reserverName=$("#reserverName").val().trim();
                var reserverPhone=$("#reserverPhone").val().trim();
                console.log("id:"+id+"  reserverName:"+reserverName+"   reserverPhone"+reserverPhone);
                var stu={
                    id:id,Name:reserverName,phone:reserverPhone
                }
                $.ajax({
                    type:"post",
                    url:"/check/checkIn",
                    datatype:"json",
                    data:{ids:JSON.stringify(stu)},
                    success:function (data){
                        console.log(data);
                        alert(data);
                    }
                })
            } else {
                alert("已取消修改的操作");
            }
        }
    </script>
</body>
</html>